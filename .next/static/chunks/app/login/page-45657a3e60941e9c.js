(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1007:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},5982:(e,r,t)=>{Promise.resolve().then(t.bind(t,8647))},8647:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var a=t(5155),s=t(2115),l=t(5695),n=t(1007),o=t(9946);let i=(0,o.A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),c=(0,o.A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var d=t(2657);function u(){let[e,r]=(0,s.useState)({username:"",password:""}),[t,o]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),[h,p]=(0,s.useState)(""),x=(0,l.useRouter)(),y=async r=>{r.preventDefault(),m(!0),p("");try{let r=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await r.json();if(console.log("Giriş yanıtı:",t),t.success&&t.user&&t.token)if(console.log("Giriş başarılı, kullanıcı:",t.user),console.log("Kullanıcı rol\xfc:",t.user.role),localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),document.cookie="token=".concat(t.token,"; path=/; max-age=86400"),document.cookie="user=".concat(JSON.stringify(t.user),"; path=/; max-age=86400"),1===t.user.role||2===t.user.role){console.log("Admin paneline y\xf6nlendiriliyor...");try{await x.push("/admin"),console.log("Y\xf6nlendirme tamamlandı")}catch(e){console.error("Y\xf6nlendirme hatası:",e),window.location.href="/admin"}}else{console.log("Ana sayfaya y\xf6nlendiriliyor...");try{await x.push("/"),console.log("Y\xf6nlendirme tamamlandı")}catch(e){console.error("Y\xf6nlendirme hatası:",e),window.location.href="/"}}else console.log("Giriş başarısız:",t.message),p(t.message||"Giriş başarısız")}catch(e){p("Bağlantı hatası oluştu")}finally{m(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"HBYS"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-700",children:"Giriş Yap"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Hesabınıza giriş yapın"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[h&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kullanıcı Adı"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{id:"username",type:"text",required:!0,value:e.username,onChange:t=>r({...e,username:t.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Kullanıcı adınızı girin"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Şifre"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{id:"password",type:t?"text":"password",required:!0,value:e.password,onChange:t=>r({...e,password:t.target.value}),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Şifrenizi girin"}),(0,a.jsx)("button",{type:"button",onClick:()=>o(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?(0,a.jsx)(c,{size:20}):(0,a.jsx)(d.A,{size:20})})]})]}),(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:u?(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Giriş Yap"})]}),(0,a.jsxs)("div",{className:"mt-6 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Demo kullanıcılar:"}),(0,a.jsxs)("div",{className:"mt-2 space-y-1 text-xs text-gray-500",children:[(0,a.jsx)("p",{children:"Admin: admin / password (Role: 1)"}),(0,a.jsx)("p",{children:"User: user / password (Role: 0)"})]})]})]})]})})}},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(2115);let s=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:r,...n,width:s,height:s,stroke:t,strokeWidth:i?24*Number(o)/Number(s):o,className:l("lucide",c),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),i=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:i,...c}=t;return(0,a.createElement)(o,{ref:n,iconNode:r,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...c})});return t.displayName=s(e),t}}},e=>{e.O(0,[441,964,358],()=>e(e.s=5982)),_N_E=e.O()}]);